<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Billing Config Disable Feature</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        .header {
            background: #4f46e5;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .test-section {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
        }
        .test-title {
            font-weight: bold;
            color: #374151;
            margin-bottom: 10px;
        }
        .test-step {
            margin: 10px 0;
            padding: 10px;
            background: #f9fafb;
            border-radius: 4px;
        }
        .expected-result {
            background: #ecfdf5;
            border-left: 4px solid #10b981;
            padding: 10px;
            margin: 10px 0;
        }
        .note {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 10px;
            margin: 10px 0;
        }
        .api-endpoint {
            background: #e0e7ff;
            border: 1px solid #6366f1;
            border-radius: 4px;
            padding: 8px;
            font-family: monospace;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß™ Test: Disable Edit Button When Month Has Invoices</h1>
            <p>Ki·ªÉm tra ch·ª©c nƒÉng disable n√∫t ch·ªânh s·ª≠a c·∫•u h√¨nh ph√≠ khi th√°ng ƒë√£ t·∫°o h√≥a ƒë∆°n</p>
        </div>

        <div class="test-section">
            <div class="test-title">üìã M√¥ t·∫£ ch·ª©c nƒÉng</div>
            <p>Khi ng∆∞·ªùi d√πng ch·ªçn m·ªôt th√°ng/nƒÉm trong ph·∫ßn c·∫•u h√¨nh ph√≠, h·ªá th·ªëng s·∫Ω:</p>
            <ul>
                <li>Ki·ªÉm tra xem th√°ng ƒë√≥ ƒë√£ c√≥ h√≥a ƒë∆°n ƒë∆∞·ª£c t·∫°o ch∆∞a</li>
                <li>N·∫øu ƒë√£ c√≥ h√≥a ƒë∆°n ‚Üí Disable n√∫t "Ch·ªânh s·ª≠a" v√† hi·ªÉn th·ªã th√¥ng b√°o</li>
                <li>N·∫øu ch∆∞a c√≥ h√≥a ƒë∆°n ‚Üí Cho ph√©p ch·ªânh s·ª≠a b√¨nh th∆∞·ªùng</li>
                <li>N·∫øu l√† th√°ng qu√° kh·ª© ‚Üí Disable n√∫t "Ch·ªânh s·ª≠a" v√† hi·ªÉn th·ªã th√¥ng b√°o</li>
            </ul>
        </div>

        <div class="test-section">
            <div class="test-title">üîß C√°c thay ƒë·ªïi ƒë√£ th·ª±c hi·ªán</div>
            <div class="test-step">
                <strong>1. Th√™m state m·ªõi:</strong>
                <ul>
                    <li><code>hasInvoicesForSelectedMonth</code> - L∆∞u tr·∫°ng th√°i th√°ng ƒë∆∞·ª£c ch·ªçn c√≥ h√≥a ƒë∆°n kh√¥ng</li>
                </ul>
            </div>
            <div class="test-step">
                <strong>2. C·∫≠p nh·∫≠t logic ki·ªÉm tra:</strong>
                <ul>
                    <li>Ki·ªÉm tra t·∫•t c·∫£ c√°c th√°ng (kh√¥ng ch·ªâ th√°ng hi·ªán t·∫°i)</li>
                    <li>G·ªçi API <code>hasInvoicesForMonth</code> cho th√°ng ƒë∆∞·ª£c ch·ªçn</li>
                </ul>
            </div>
            <div class="test-step">
                <strong>3. Disable n√∫t Edit:</strong>
                <ul>
                    <li>Disable khi <code>isPastMonth || hasInvoicesForSelectedMonth</code></li>
                    <li>Th√™m tooltip gi·∫£i th√≠ch l√Ω do disable</li>
                </ul>
            </div>
            <div class="test-step">
                <strong>4. Th√™m th√¥ng b√°o:</strong>
                <ul>
                    <li>Th√¥ng b√°o khi th√°ng ƒë√£ c√≥ h√≥a ƒë∆°n</li>
                    <li>Th√¥ng b√°o khi l√† th√°ng qu√° kh·ª©</li>
                </ul>
            </div>
        </div>

        <div class="test-section">
            <div class="test-title">üß™ Test Cases</div>
            
            <div class="test-step">
                <strong>Test Case 1: Th√°ng hi·ªán t·∫°i ch∆∞a c√≥ h√≥a ƒë∆°n</strong>
                <ul>
                    <li>Ch·ªçn th√°ng hi·ªán t·∫°i</li>
                    <li>Ki·ªÉm tra n√∫t "Ch·ªânh s·ª≠a" c√≥ th·ªÉ click ƒë∆∞·ª£c</li>
                    <li>Ki·ªÉm tra kh√¥ng c√≥ th√¥ng b√°o c·∫£nh b√°o</li>
                </ul>
                <div class="expected-result">
                    <strong>K·∫øt qu·∫£ mong ƒë·ª£i:</strong> N√∫t "Ch·ªânh s·ª≠a" enabled, c√≥ th·ªÉ click
                </div>
            </div>

            <div class="test-step">
                <strong>Test Case 2: Th√°ng hi·ªán t·∫°i ƒë√£ c√≥ h√≥a ƒë∆°n</strong>
                <ul>
                    <li>T·∫°o h√≥a ƒë∆°n cho th√°ng hi·ªán t·∫°i tr∆∞·ªõc</li>
                    <li>Ch·ªçn th√°ng hi·ªán t·∫°i trong c·∫•u h√¨nh ph√≠</li>
                    <li>Ki·ªÉm tra n√∫t "Ch·ªânh s·ª≠a" b·ªã disable</li>
                    <li>Ki·ªÉm tra c√≥ th√¥ng b√°o "ƒë√£ c√≥ h√≥a ƒë∆°n"</li>
                </ul>
                <div class="expected-result">
                    <strong>K·∫øt qu·∫£ mong ƒë·ª£i:</strong> N√∫t "Ch·ªânh s·ª≠a" disabled, c√≥ th√¥ng b√°o c·∫£nh b√°o
                </div>
            </div>

            <div class="test-step">
                <strong>Test Case 3: Th√°ng qu√° kh·ª©</strong>
                <ul>
                    <li>Ch·ªçn th√°ng tr∆∞·ªõc th√°ng hi·ªán t·∫°i</li>
                    <li>Ki·ªÉm tra n√∫t "Ch·ªânh s·ª≠a" b·ªã disable</li>
                    <li>Ki·ªÉm tra c√≥ th√¥ng b√°o "th√°ng qu√° kh·ª©"</li>
                </ul>
                <div class="expected-result">
                    <strong>K·∫øt qu·∫£ mong ƒë·ª£i:</strong> N√∫t "Ch·ªânh s·ª≠a" disabled, c√≥ th√¥ng b√°o "th√°ng qu√° kh·ª©"
                </div>
            </div>

            <div class="test-step">
                <strong>Test Case 4: Th√°ng t∆∞∆°ng lai</strong>
                <ul>
                    <li>Ch·ªçn th√°ng sau th√°ng hi·ªán t·∫°i</li>
                    <li>Ki·ªÉm tra n√∫t "Ch·ªânh s·ª≠a" c√≥ th·ªÉ click ƒë∆∞·ª£c</li>
                    <li>Ki·ªÉm tra kh√¥ng c√≥ th√¥ng b√°o c·∫£nh b√°o</li>
                </ul>
                <div class="expected-result">
                    <strong>K·∫øt qu·∫£ mong ƒë·ª£i:</strong> N√∫t "Ch·ªânh s·ª≠a" enabled, c√≥ th·ªÉ click
                </div>
            </div>
        </div>

        <div class="test-section">
            <div class="test-title">üîó API Endpoints ƒë∆∞·ª£c s·ª≠ d·ª•ng</div>
            <div class="api-endpoint">
                GET /api/admin/yearly-billing/has-invoices/{year}/{month}
            </div>
            <p><strong>Response:</strong></p>
            <pre style="background: #f3f4f6; padding: 10px; border-radius: 4px;">
{
  "success": true,
  "hasInvoices": true/false,
  "count": number
}</pre>
        </div>

        <div class="test-section">
            <div class="test-title">üìù H∆∞·ªõng d·∫´n test th·ªß c√¥ng</div>
            <div class="test-step">
                <strong>B∆∞·ªõc 1:</strong> Truy c·∫≠p Admin Dashboard ‚Üí C·∫•u h√¨nh ph√≠
            </div>
            <div class="test-step">
                <strong>B∆∞·ªõc 2:</strong> Ch·ªçn c√°c th√°ng kh√°c nhau v√† quan s√°t:
                <ul>
                    <li>Tr·∫°ng th√°i n√∫t "Ch·ªânh s·ª≠a"</li>
                    <li>Th√¥ng b√°o hi·ªÉn th·ªã</li>
                    <li>Tooltip khi hover v√†o n√∫t disabled</li>
                </ul>
            </div>
            <div class="test-step">
                <strong>B∆∞·ªõc 3:</strong> T·∫°o h√≥a ƒë∆°n cho m·ªôt th√°ng v√† test l·∫°i
            </div>
            <div class="test-step">
                <strong>B∆∞·ªõc 4:</strong> Ki·ªÉm tra console log ƒë·ªÉ xem API calls
            </div>
        </div>

        <div class="note">
            <strong>‚ö†Ô∏è L∆∞u √Ω:</strong>
            <ul>
                <li>Ch·ª©c nƒÉng n√†y ho·∫°t ƒë·ªông d·ª±a tr√™n API backend</li>
                <li>C·∫ßn ƒë·∫£m b·∫£o backend c√≥ endpoint <code>has-invoices</code></li>
                <li>Logic ki·ªÉm tra th√°ng qu√° kh·ª© ƒë∆∞·ª£c t√≠nh to√°n ·ªü frontend</li>
                <li>State ƒë∆∞·ª£c c·∫≠p nh·∫≠t m·ªói khi thay ƒë·ªïi th√°ng/nƒÉm</li>
            </ul>
        </div>

        <div class="test-section">
            <div class="test-title">‚úÖ Checklist ho√†n th√†nh</div>
            <div style="display: flex; flex-direction: column; gap: 10px;">
                <label><input type="checkbox" disabled checked> Th√™m state hasInvoicesForSelectedMonth</label>
                <label><input type="checkbox" disabled checked> C·∫≠p nh·∫≠t logic ki·ªÉm tra cho t·∫•t c·∫£ th√°ng</label>
                <label><input type="checkbox" disabled checked> Disable n√∫t Edit khi c√≥ h√≥a ƒë∆°n</label>
                <label><input type="checkbox" disabled checked> Th√™m tooltip gi·∫£i th√≠ch</label>
                <label><input type="checkbox" disabled checked> Th√™m th√¥ng b√°o c·∫£nh b√°o</label>
                <label><input type="checkbox" disabled checked> Test build th√†nh c√¥ng</label>
                <label><input type="checkbox" disabled checked> Kh√¥ng c√≥ l·ªói linter</label>
            </div>
        </div>
    </div>
</body>
</html>
